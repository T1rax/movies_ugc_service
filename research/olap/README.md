# Результаты тестирования пропускной способности Clickhouse и Vertica
## Запуск тестов
В каталогах clickhouse и vertica выполнить команды:
```shell
docker-compose up -d
python run_tests.py
docker-compose down
```
# Clickhouse
### Тест скорости вставки записей (всего 10 млн)
Вставка осуществляется пачками по 10000 записей
```
Вставка 10000000 записей заняла 133.30284929275513 сек
Скорость вставки: 75017.15119410797 записей/сек
```
### Тест агрегации данных
Агрегация данных из таблицы для пользователей, которые просмотрели фильм после 1 декабря 2022 года:
```
Агрегация 4631037 записей заняло 5.01912260055542 сек
Скорость: 922678.5971491364 записей/сек
```
# Vertica
### Тест скорости вставки записей (всего 10 млн)
Вставка осуществляется пачками по 10000 записей
```
Вставка 10000000 записей заняла 242.18944358825684 сек
Скорость вставки: 41289.99122274244 записей/сек
```
### Тест агрегации данных
Агрегация данных из таблицы для пользователей, которые просмотрели фильм после 1 декабря 2022 года:
```
Агрегация 4630813 записей заняло 16.339457988739014 сек
Скорость: 283412.88941111194 записей/сек
```
# Итог тестирования
Исходя из результатов, полученных выше, мы можем сделать вывод, что **Clickhouse** значительно 
быстрее обрабатывает запросы как на вставку записей (практически в два раза!), так и на агрегацию 
данных (практически в 3 раза!). И это еще с учетом того, что мы использовали последнюю на данный 
момент версию Vertica, в отличие от Clickhouse! Следовательно, наш выбор в данном проекте - это **Clickhouse**!